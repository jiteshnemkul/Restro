<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
    <title></title>
    <style>
        .box1 ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .box1 li {
            float: left;
            padding: 14px 16px;
        }

        .box1 li a {
            display: block;
            color: black;
            text-align: center;

            text-decoration: none;
        }
        table {
            width: 100%;
            font: 17px Calibri;
        }
        table, th, td {
            border: solid 1px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }



    </style>

    <!--<script th:inline="javascript">
        var listofitems=[];
        console.log(listofitems);
    </script>-->

    <!--<script th:type="text/javascript">

        var i = 0;
        /*function increase() {
            document.getElementById('button3').value = ++i;
        }

        function decrease() {
            document.getElementById('button3').value = &#45;&#45;i;
        }*/
        function addItem(item,price){
            var div = document.createElement("div");
            div.innerHTML = item;
            div.appendChild(document.createTextNode(price));



            if(listofitems.length==0){
                console.log("first");
                document.getElementById("dynamic-list").appendChild(div);
                listofitems.push(item);
            }
            else {
                if (listofitems.indexOf(item) == -1) {
                    console.log("next");
                    document.getElementById("dynamic-list").appendChild(div);
                    listofitems.push(item);
                }
            }

            /*var ul = document.getElementById("dynamic-list");
            // var candidate = document.getElementById("clickfun");
            var li = document.createElement("li");
            li.setAttribute('id',item);
            li.appendChild(document.createTextNode(item));
            ul.appendChild(li);*/
        }
        // ARRAY FOR HEADER.
        var arrHead = new Array();
        arrHead = ['', 'Itemname', 'Quantity', 'price', 'Subtotal'];      // SIMPLY ADD OR REMOVE VALUES IN THE ARRAY FOR TABLE HEADERS.

        // FIRST CREATE A TABLE STRUCTURE BY ADDING A FEW HEADERS AND
        // ADD THE TABLE TO YOUR WEB PAGE.
        function createTable() {
            /*<![CDATA[*/
            var empTable = document.createElement('table');
            empTable.setAttribute('id', 'empTable');            // SET THE TABLE ID.

            var tr = empTable.insertRow(-1);

            for (var h = 0; h < arrHead.length; h++) {
                var th = document.createElement('th');          // TABLE HEADER.
                th.innerHTML = arrHead[h];
                tr.appendChild(th);
            }

            var div = document.getElementById('cont');
            div.appendChild(empTable);    // ADD THE TABLE TO YOUR WEB PAGE.
            /*]]>*/
        }

/*
        function addRow(item,price) {
            /!*<![CDATA[*!/
            var empTab = document.getElementById('empTable');
            var rowCnt = empTab.rows.length;        // GET TABLE ROW COUNT.
            if(listofitems.length==0){
                console.log("first");
                var tr = empTab.insertRow(rowCnt);      // TABLE ROW.
                listofitems.push(item);
            }
            else {
                if (listofitems.indexOf(item) == -1) {
                    console.log("next");
                    var tr = empTab.insertRow(rowCnt);      // TABLE ROW.
                    listofitems.push(item);
                }
            }

            /!*tr = empTab.insertRow(rowCnt);*!/

            for (var c = 0; c < arrHead.length; c++) {
                var td = document.createElement('td');          // TABLE DEFINITION.
                td = tr.insertCell(c);

                if (c == 0) {           // FIRST COLUMN.
                    // ADD A BUTTON.
                    var button = document.createElement('input');

                    // SET INPUT ATTRIBUTE.
                    button.setAttribute('type', 'button');
                    button.setAttribute('value', 'Remove');

                    // ADD THE BUTTON's 'onclick' EVENT.
                    button.setAttribute('onclick', 'removeRow(this)');

                    td.appendChild(button);
                }

                if(c==1){
                    td.appendChild(document.createTextNode(item))
                }
                if(c==2){
var i=0;
                    var button1 = document.createElement('div');
                    button1.style.width = "20px";
                    button1.style.height = "20px";
                    button1.style.background = "red";
                    button1.style.color = "white";
                    button1.style.cssFloat="left";
                    button1.innerHTML = "+";
                    button1.setAttribute('id', 'button1');
                    button1.setAttribute('value', '+');
                    button1.setAttribute('onclick', 'document.getElementById(\'button3\').value = ++i');

                    var button3 = document.createElement('input');
                    button3.style.width = "20px";
                    button3.style.height = "20px";
                    button3.style.background = "purple";
                    button3.style.color = "white";
                    button3.style.cssFloat="left";
                    button3.setAttribute('type', 'button');
                    button3.setAttribute('id', 'button3');
                    button3.setAttribute('value', 0);
                    //button3.setAttribute('onclick', 'decrease(this)');

                    var button2 = document.createElement('div');
                    button2.style.width = "20px";
                    button2.style.height = "20px";
                    button2.style.background = "black";
                    button2.style.color = "white";
                    button2.innerHTML = "-";
                    button2.style.cssFloat="left";
                    button2.setAttribute('id', 'button2');
                    button2.setAttribute('value', '-');
                    button2.setAttribute('onclick', 'document.getElementById(\'button3\').value = &#45;&#45;i');
                    td.appendChild(button1);
                    td.appendChild(button3);
                    td.appendChild(button2);

                }
                if(c==3){
                    td.appendChild(document.createTextNode(price))
                }
                if(c==4){
                    td.appendChild(document.createTextNode("800"))
                }
                /!*else {
                    // CREATE AND ADD TEXTBOX IN EACH CELL.
                    var ele = document.createElement('input');
                    ele.setAttribute('type', 'text');
                    ele.setAttribute('value', '');

                    td.appendChild(ele);
                }*!/
            }
            /!*]]>*!/
        }
*/

        // DELETE TABLE ROW.
        function removeRow(oButton) {
            /*<![CDATA[*/
            var empTab = document.getElementById('empTable');
            empTab.deleteRow(oButton.parentNode.parentNode.rowIndex);       // BUTTON -> TD -> TR.
            /*]]>*/
        }


    </script>-->

    <script th:src="@{/custom.js}"></script>

</head>
<body>

<section layout:fragment="header">
    <ol class="breadcrumb">
        <li><a href="/"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li class="active">DineIn</li>
    </ol>
</section>
<div layout:fragment="content">

    <div class="box" style="margin-top:30px;">
        Table:<p th:text="${tablename}"></p>
        Seat:<p th:text="${seat}"></p>
        <div class="container">
            <div class="row">

                <div id="orderlist" class="col-sm-6">
                    <div th:fragment="orderlist">
                    <form action="#" th:action="@{/saveOrder}" th:object="${orderList}" method="post">




                    <table id="empTable" class="table table-striped col-sm-12">
                        <thead>
                        <tr>
                            <td>S.N.</td>
                            <td>Itemname</td>
                            <td>Quantity</td>
                            <td>Price</td>
                            <td>subtotal</td>
                            <td>remove</td>
                        </tr>
                        </thead>
                    <tbody th:if="${not orderList.orderentities.isEmpty()}" style="width: 100%">
                    <tr th:each="orderItem,i:${orderList.orderentities}">
                        <td><span th:text="${i.count}"></span></td>
                        <td><span th:text="${orderItem.itemname}"></span></td>
                        <td><input type="button" class="btn btn-success col-sm-4 col-lg-4" value="+" th:onclick="'javascript:increaseOrderNumber(\''+${orderItem.itemname}+'\');'"/><span class="col-sm-4 col-lg-4" th:text="${orderItem.number}"></span><input type="button" class="btn btn-success col-sm-4 col-lg-4" value="-" th:onclick="'javascript:decreaseOrderNumber(\''+${orderItem.itemname}+'\');'"/></td>
                        <td><span th:text="${orderItem.price}"></span></td>
                        <td><span th:text="${orderItem.total}"></span></td>
                        <td><input type="button" value="Remove" class="btn btn-danger" th:onclick="'javascript:removeOrder(\''+${orderItem.itemname}+'\');' "/></td>

                    </tr>

                    </tbody>
                    </table>
                   <!-- <ul id="dynamic-list"></ul>-->

                    <div th:if="${not orderList.orderentities.isEmpty()}" class="col-sm-12">

                        <button type="button" class="btn btn-primary" value="Calculate" th:onclick="'javascript:calculateTotal();'">Calculate</button>


                    </div>
                    <div class="form-group" th:if="${orderList.grandTotal!=null}">
                        <div class="col-sm-6" ><label>Total: </label> </div><div class="col-sm-6"> <span th:text="${orderList.grandTotal}"></span></div>
                        <div class="col-sm-12"><input type="submit" class="btn btn-primary" value="Save" /></div>
                    </div>



                    </form>
                    </div>
                </div>
                <div class="col-sm-6 box1" style="background-color:pink;">

                    <ul>
                        <!--<div   th:each="row : ${lists}">-->

<!--
                            <li> <a th:onclick="'javascript:addRow(\'' + ${row.itemname} + '\',\'' + ${row.price} + '\');'"><div style="height: 80px;width: 80px;text-align: center;border: 2px solid black;"><div style="text-align: center;line-height:80px;" th:text="${row.itemname}" th:value="${row.itemname}" id="clickfun"></div></div></a></li>
-->

                            <!--<li> <a th:onclick="'javascript:addRow(\'' +${row.itemname}+'\')'"><div style="height: 80px;width: 80px;text-align: center;border: 2px solid black;"><div style="text-align: center;line-height:80px;" th:text="${row.itemname}" th:value="${row.itemname}" id="clickfun"></div></div></a></li>-->

                            <li th:each="row : ${lists}">
                                <a  th:onclick="'javascript:addR(\'' +${row.itemname}+'\');'" class="btn btn-app"><span th:text="${row.itemname}"></span></a>

                            </li>

                        <!--</div>-->
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>

</body>
</html>